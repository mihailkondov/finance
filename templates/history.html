{% extends "layout.html" %}

{% block title %}
    History
{% endblock %}

{% block main %}
    <div class="centered-container">
        <h1>Transaction History</h1>
    </div>
    <div class="centered-container">
        {% if transactions|length > 0 %}
            <table class="table table-striped table-dark" id="portfolio-table">
                <tr>
                    {% for key in transactions[0].keys() %}
                        <th class="text-right">{{ key }}</th>
                    {% endfor %}
                </tr>
                {% for transaction in transactions %}
                    <tr>
                        <td class="text-right">{{ transaction.date }}</td>
                        <td class="text-right">{{ transaction.time }}</td>
                        <td class="text-right">{{ transaction.symbol }}</td>
                        <td class="text-right">{{ transaction.type }}</td>
                        <td class="text-right">{{ transaction.shares }}</td>
                        <td class="text-right">{{ transaction['share price'] | usd}}</td>
                        <td class="text-right">{{ transaction.total | usd}}</td>
                    </tr>
                {% endfor %}
            </table>
        {% else %}
            <p>No transactions found</p>
        {% endif %}
    </div>

{% endblock %}
